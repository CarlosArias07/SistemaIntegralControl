@model cotizacionesInfo_empleados
@{ 
    var message = TempData["ConfirmationMessage"] ?? string.Empty;
    var grid = new WebGrid(canPage: true, rowsPerPage: 2);
    grid.Bind(source: Model.Model2, rowCount: ViewBag.TotalRows, autoSortAndPage: false);
}

@section Scripts{

    <script type="text/javascript">
        var message = '@message';
        if(message)
            alert(message);
    </script>
}

<style type="text/css">
    .webgrid-table {
        font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
        font-size: 1.2em;
        width: 50%;
        display: table;
        border-collapse: separate;
        border: solid 1px #E4E7EA;
        background-color: white;
    }

        .webgrid-table td, th {
            border: 1px solid #E4E7EA;
            padding: 1px 1px 1px;
        }

    .webgrid-header {
        background-color: white;
        color: #FFFFFF;
        padding-bottom: 1px;
        padding-top: 1px;
        text-align: center;
    }

    .webgrid-footer {
    }

    .webgrid-row-style {
        padding: 1px 1px 1px;
    }

    .webgrid-alternating-row {
        color: white;
        background-color: limegreen;
        padding: 1px 1px 1px;
    }
</style>



@section ScriptsDT{
    
    <script>
       /* $(document).on("click", ".name", function () {
            var id_Emp = $(this).data('id');
            var url = $(this).attr('href') + '?id_Emp=' + id_Emp; // build new url
            location.href = url; // redirect
            return false; // cancel default redirect
        });

        /*$('#myLink').click(function () {
            var idc = $('#idcot').val(); // get the textbox value
            var url = $(this).attr('href') + '?idc=' + idc; // build new url
            location.href = url; // redirect
            return false; // cancel default redirect
        });*/
        /*$(document).on("click", ".name", function () {
            var id_Emp = $(this).data('id');
            var url = $('#caModal').data('url');
            $.get(url, { id: id_Emp }, function (data) {
                location.href = url; // redirect
                return false;
            });
        });*/
    </script>
}
<body>
    <div class="modal-dialog modal-lg">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="cerrar" data-dismiss="modal">&times;</button>
                <h4 class="modal-title active" style="color:deepskyblue">
                    <b>
                        &nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ASIGNAR COTIZACIÓN
                    </b>
                </h4>
            </div>
            <div class="modal-body">
                <p style="color:#337ab7;">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <b> Detalles de la Cotización</b>
                </p>
                @{

                    foreach (var item in Model.Model1)
                    {
                        <label>
                            Código:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </label><label>Fecha:</label><br />
                                            <input type="text" id="idcot" value="@item.id_CotIns" readonly />
                                            <label>
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;
                                            </label>
                                            <input type="text" value="@item.fecha_CotIns" readonly />
                                            <br />
                                            <br />
                                            @*----------------------------------------------------------------*@
                                            <p class="active" style="color:#337ab7;">
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Vendedor</b>
                                            </p>
                                            <label>
                                                Nombre:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;
                                            </label><label>Apellido Paterno:</label><br />
                                            <input type="text" value="@item.nombre_Emp" readonly /><label>
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;
                                            </label>
                                            <input type="text" value="@item.apaterno_Emp" readonly />
                                            <br />
                                            <br />
                                            @*----------------------------------------------------------------*@
                                            <p style="color:#337ab7;">
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Artículo</b>
                                            </p>
                                            <label>
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            </label> <img src="data:image/jpeg;base64,@SIC.Controllers.ArticuloController.ConvertByteArrayToBase64(@item.id_Art)" alt="" height="200" width="200" class="img-thumbnail">
                                            <br />
                                            <br />
                                            <label>
                                                Tipo:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;
                                            </label><label>Nombre:</label><br />
                                            <input type="text" value="@item.tipo_Pro" readonly />
                                            <label>
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;
                                            </label>
                                            <input type="text" value="@item.nombre_Pro" readonly />
                                            <br />
                                            <br />
                                            @*--------------------------------------------------------------*@
                                            <p class="active" style="color:#337ab7;">
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Otros</b>
                                            </p>

                                            <label>
                                                Metros cable:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;
                                            </label><label>Total cable:</label><br />
                                            <input type="text" value="@item.mtscable_CotIns" readonly /><label>
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            </label>
                                            <input type="text" value="@item.totalcable_CotIns" readonly />
                                            <br />
                                            <br />
                                            @*--------------------------------------------------------------*@
                                            <label>
                                                Total cable:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            </label><label>Observaciones:</label><br />
                                            <input type="text" value="@item.totalcable_CotIns" readonly /><label>
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            </label>
                                            <input type="text" value="@item.observaciones_CotIns" readonly /><br />
                                            <br />
                                            @*--------------------------------------------------------------*@
                                            <label>
                                                Complejidad:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;
                                            </label><label>Total $:</label><br />
                                            <input type="text" value="@item.complejidad_CotIns" readonly /><label>
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            </label>
                                            <input type="text" value="@item.total_CotIns" readonly />
                                            <br />
                                            <br />
                                            @*--------------------------------------------------------------*@
                                            <p style="color:#337ab7;">
                                                <b>
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cliente
                                                </b>
                                            </p>
                                            <label>
                                                Nombre:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            </label><label>Teléfono:</label><br />
                                            <input type="text" value="@item.nombrecli_CotIns" readonly />
                                            <label>
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;
                                            </label>
                                            <input type="text" value="@item.telefonocli_CotIns" readonly /><br />
                                            <br />
                                            <label>
                                                Domicilio:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            </label><label>Correo:</label><br />
                                            <input type="text" value="@item.domiciliocli_CotIns" readonly />
                                            <label>
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                &nbsp;&nbsp;&nbsp;&nbsp;
                                            </label>
                                            <input type="text" value="@item.correocli_CotIns" readonly /><br />
                                            <br />
                    }

                }

                @*----------------------------*@
                <br />
                <br />
                <p style="color:#337ab7;">
                    <b>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Técnicos para Asignación
                    </b>
                </p>
                <div>
                    @grid.Table(

                        tableStyle: "webgrid-table",
                        headerStyle: "webgrid-header",
                        footerStyle: "webgrid-footer",
                        alternatingRowStyle: "webgrid-alternating-row",
                        rowStyle: "webgrid-row-style",
                        columns: grid.Columns(
                            grid.Column(header: "IMAGEN", format: @<img src="data:image/jpeg;base64,@SIC.Controllers.CotizacionController.ConvertByteArrayToBase64(@item.id_Emp)" alt="" height="70" width="85" class="img-circle">),
                            grid.Column(columnName: "nombre_Emp", header: "NOMBRE"),
                            grid.Column(columnName: "apaterno_Emp", header: "A PATERNO"),
                            grid.Column(header: "⇨", format: @<text><button id="showModal" class="name btn btn-info" onclick="location.href='@Url.Action("Asignar", "Cotizacion", new {ide = item.id_Emp, idc = ViewBag.idCot })'">Asignar</button></text>)

        )
    )
                    <div class="row">
                        <div class="col-sm-6">
                            @grid.Pager(mode: WebGridPagerModes.All)
                        </div>
                    </div>
                    @Html.Hidden("dir", grid.SortDirection)
                    @Html.Hidden("col", grid.SortColumn)
                </div>

            </div>

            <div class="modal-footer">
                <p class="dt-body-left">
                </p>
            </div>
        </div>
    </div>
</body>
